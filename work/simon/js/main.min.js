"use strict";document.addEventListener("DOMContentLoaded",function(){var n={start:document.getElementById("start"),strictBtn:document.getElementById("strict-mode"),strictOn:!1},e={sequence:[],userPick:[],compTurn:!0,round:0,justWrong:!1,running:!1},t={gameBtn:document.getElementsByClassName("game-btn"),sndTL:new Audio("https://s3.amazonaws.com/freecodecamp/simonSound1.mp3"),sndTR:new Audio("https://s3.amazonaws.com/freecodecamp/simonSound2.mp3"),sndBL:new Audio("https://s3.amazonaws.com/freecodecamp/simonSound3.mp3"),sndBR:new Audio("https://s3.amazonaws.com/freecodecamp/simonSound4.mp3")},s=function(){var n=Math.floor(Math.random()*(t.gameBtn.length-1-0+1))+0,e=t.gameBtn[n];return e},u=function(){if(e.running&&e.round<20){var n=200,t=1e3;e.justWrong===!1&&(e.sequence.push(s()),e.justWrong=!1,e.round++,document.getElementById("round").innerHTML="Round: "+e.round),setTimeout(function(){!function(n,t){for(var s=function(s){setTimeout(function(){if(e.running){e.sequence[s].classList.add("lit");var n=e.sequence[s].classList[0];c(n)}},n),setTimeout(function(){e.sequence[s].classList.remove("lit")},t),n+=1e3,t+=1e3},u=0;u<e.sequence.length;u++)s(u)}(n,t)},400),setTimeout(function(){e.userTurn=!0},1e3*e.sequence.length)}},i=function(){e.running&&e.round<20&&(e.userPick[e.userPick.length-1]===e.sequence[e.userPick.length-1]&&e.userPick.length===e.round&&(19===e.round&&r(),e.justWrong=!1,e.userPick=[],setTimeout(function(){e.userTurn=!1},150),19===e.round?r():u()),e.userPick[e.userPick.length-1]!==e.sequence[e.userPick.length-1]&&(e.userPick=[],o(),n.strictOn===!0?(e.round=0,e.sequence=[],e.running=!1,e.userTurn=!1,n.start.classList.remove("start-active")):setTimeout(function(){e.justWrong=!0,u()},2e3)))},o=function(){var n=350,e=500,s=new Audio("https://notificationsounds.com/soundfiles/ad972f10e0800b49d76fed33a21f6698/file-sounds-1056-i-saw-you.wav");s.play(),function(n,e){for(var s=0;s<3;s++)for(var u=function(s){setTimeout(function(){t.gameBtn[s].classList.add("lit")},n),setTimeout(function(){t.gameBtn[s].classList.remove("lit")},e),n+=100,e+=100},i=0;i<t.gameBtn.length;i++)u(i)}(n,e)},r=function(){console.log(),document.getElementById("round").innerHTML="Winner!"};!function(){for(var n=[t.sndTL,t.sndBL,t.sndTR,t.sndBR],s=function(s){t.gameBtn[s].addEventListener("mousedown",function(){e.userTurn===!0&&e.running&&(this.classList.add("lit"),n[s].currentTime=0,n[s].play(),e.userPick.push(this),i())}),t.gameBtn[s].addEventListener("mouseup",function(){this.classList.remove("lit")})},u=0;u<t.gameBtn.length;u++)s(u)}();var c=function(n){"topL"===n?(t.sndTL.currentTime=0,t.sndTL.play()):"topR"===n?(t.sndTR.currentTime=0,t.sndTR.play()):"bottomL"===n?(t.sndBL.currentTime=0,t.sndBL.play()):"bottomR"===n&&(t.sndBR.currentTime=0,t.sndBR.play())};n.strictBtn.addEventListener("click",function(t){t.preventDefault(),e.running===!1&&(this.classList.toggle("strict-active"),n.strictOn=!n.strictOn)}),n.start.addEventListener("click",function(n){n.preventDefault(),this.classList.toggle("start-active"),e.running===!1?(e.sequence=[],e.running=!0,u()):(e.running=!1,e.round=0,e.userPick=[],e.justWrong=!1,e.compTurn=!0)})});