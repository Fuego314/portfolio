"use strict";function numberPress(e){if(opLast)for(;display.firstChild;)display.removeChild(display.firstChild);"equals"===opPressed[opPressed.length-1]&&(part2=void 0,firstRun=!0,firstEquals=!0),current.length<12?display.innerHTML+=e:display.innerHTML="Digit Limit Met",opLast=!1,numLast=!0,current.push(e)}function operator(e){function t(e,t){sum=n[r[r.length-1]](e,t),String(sum).match(/\d/g).length<=12?display.innerHTML=sum:display.innerHTML="Digit Limit Met"}var n={plus:function(e,t){return e+t},minus:function(e,t){return e-t},times:function(e,t){return e*t},divide:function(e,t){return e/t}},r=opPressed;r=r.filter(function(e){return"equals"!==e}),opPressed.push(e),firstRun&&current.length>0?(part1=Number(current.join("")),firstRun=!1):"equals"===e?firstEquals?(void 0===part2?(part2=Number(current.join("")),t(part1,part2)):(part2=Number(current.join("")),t(sum,part2)),firstEquals=!1):(part1=sum,0===current.length?(t(part1,part2),part1=sum):(part2=Number(current.join("")),t(sum,part2))):void 0===part2&&current.length>0?(part2=Number(current.join("")),sum=n[opPressed[opPressed.length-2]](part1,part2),String(sum).length<=12?display.innerHTML=sum:display.innerHTML="Digit Limit Met"):void 0!==part2&&current.length>0&&(part1=sum,part2=Number(current.join("")),t(part1,part2)),current=[],numLast=!1,opLast=!0}function clearCE(){current=[],part1=void 0,part2=void 0,sum=0,display.innerHTML="",firstRun=!0}function clearC(){current=[],display.innerHTML=""}function decimalEvent(){current.indexOf(".")===-1&&numberPress(".")}for(var display=document.getElementById("number-display"),decimal=document.getElementById("decimal"),CE=document.getElementById("CE"),C=document.getElementById("C"),operators=["plus","minus","times","divide","equals"],opKeys=[107,109,106,111,13],current=[],part1=void 0,part2=void 0,sum=void 0,opPressed=[],opLast=!1,numLast=!1,firstRun=!0,firstEquals=!0,_loop=function(e){!function(){document.getElementById("no"+e).addEventListener("click",function(){numberPress(e)}),window.addEventListener("keyup",function(t){t.which!==e+48&&t.which!==e+96||numberPress(e)})}(),e<operators.length&&!function(){document.getElementById(operators[e]).addEventListener("click",function(){operator(operators[e])}),window.addEventListener("keyup",function(t){t.which===opKeys[e]&&operator(operators[e])})}()},i=0;i<=9;i++)_loop(i);decimal.addEventListener("click",decimalEvent),window.addEventListener("keyup",function(e){110===e.which&&decimalEvent()}),CE.addEventListener("click",clearCE),C.addEventListener("click",clearC),window.addEventListener("keyup",function(e){27===e.which&&clearCE()});